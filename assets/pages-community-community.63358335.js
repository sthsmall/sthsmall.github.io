import{B as t,n as e,o,m as s,g as i,w as n,F as a,i as c,r,y as l,f as m}from"./index-03a9edbf.js";import{P as d}from"./PostItem.9a24c6f5.js";import{m as p}from"./index.0708a0a5.js";import{c as u}from"./code.487141bb.js";import{_ as h}from"./_plugin-vue_export-helper.1b428a4d.js";const g=h({components:{PostItem:d},data:()=>({screenWidth:0,screenHeight:0,offset:{},posts:[{title:"如何学习前端开发？",content:"我是一个前端新手，请问有什么好的学习资源或建议吗？",postId:2,authorId:2,time:"2022-08-01"}]}),mounted(){this.getScreenSize(),this.offset={x:this.screenWidth-60,y:this.screenHeight-60}},methods:{getScreenSize(){const e=t();this.screenWidth=e.windowWidth,this.screenHeight=e.windowHeight},goToPostDetail(t){e({url:`/pages/community/postDetail/postDetail?postId=${t}`})},onClick(){e({url:"/pages/community/createPost/createPost"})}},async onLoad(){const t=await p({url:"/community/getHomepagePosts"});t.data.code==u.GET_OK&&(this.posts=t.data.data)}},[["render",function(t,e,d,p,u,h){const g=r("post-item"),f=c,x=r("van-floating-bubble");return o(),s(a,null,[i(f,null,{default:n((()=>[(o(!0),s(a,null,l(u.posts,((t,e)=>(o(),m(g,{key:e,title:t.title,content:t.content,author:t.authorId,time:t.time,onClick:e=>h.goToPostDetail(t.postId)},null,8,["title","content","author","time","onClick"])))),128))])),_:1}),i(x,{icon:"chat",onClick:h.onClick,magnetic:"x",axis:"xy"},null,8,["onClick"])],64)}],["__scopeId","data-v-faa64219"]]);export{g as default};
